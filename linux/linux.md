# Linux

**get linux distro/version**

`cat /etc/*-release`

**add to environment path**

[Source](https://www.cyberciti.biz/faq/appleosx-bash-unix-change-set-path-environment-variable/)

**option 1**

```
edit .bash_profile/.bashrc and add this line where '~/.kam' is the new folder to add to path 
```

**option 2**

```
export PATH=$PATH:~/.kam
```

## Install Java

[Source](https://linux4one.com/how-to-install-java-on-ubuntu-18-04/#5_Setting_up_default_Java_Version)


## Shutdown/Reboot

[Source](https://www.lifewire.com/reboot-linux-using-command-line-4032621)

`sudo shutdown --reboot now`

## CLI WIFI configuration

[Source](https://askubuntu.com/questions/461825/how-to-connect-to-wifi-from-the-command-line#461831)

Be sure to `sudo apt install network-manager` package. Try running, `nmcli c` to view current network configuration.  If the package is installed it will list the saved WIFI connections.  If it doesnt exist it will prompt the package manager command to install.

`nmtui` brings up a nice CLI GUI to manage the WIFI connections

##Â List WIFI 

`sudo iwlist wlan0 scan`


## Structures

This sample contains loops, json manipulation and `az` command

**example json parameter**
```
{
"1": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
"2": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
"3": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
"4": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
}  
```

**example app id parameter**
```
xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
```

**code snippet**
```
if [ $# -ne 2 ]; then
    echo "ERROR: [Incorrect arguments provided"]
    echo -e "eg: ${0} <json> <application-id>\n"
    exit 1
fi

json=$1
appId=$2

for destAppId in $(echo "${json}" | jq -r '.[] | values'); 
do   
    echo $destAppId
    echo "Provisioning ${appId} permission to ${destAppId} api"
    
    apiPermission=$(az ad app show --id "${destAppId}" --output tsv --query "oauth2Permissions[?value=='user_impersonation'].{id:id}")
    # apiRolePermission=$(az ad app show --id $destAppId --output tsv --query "appRoles[?value=='My.Role'].{id:id}")
   
    az ad app permission delete --id "${appId}" --api "${destAppId}"
    az ad app permission add --id "${appId}" --api "${destAppId}" --api-permissions "${apiPermission}=Scope"
    # az ad app permission add --id "${appId}" --api "${destAppId}" --api-permissions "${apiRolePermission}=Role"
done

echo "##vso[task.logissue type=warning]Must run the following commands manually to grant admin access"

echo "az ad app permission admin-consent --id ${appId}"

```

[[azure.md]]
[//begin]: # "Autogenerated link references for markdown compatibility"
[azure]: azure "AZURE"
[//end]: # "Autogenerated link references"
